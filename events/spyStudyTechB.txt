namespace = studyTechBeta

country_event = { 
    id = studyTechBeta.1
    is_triggered_only = yes
    hide_window = yes
    immediate = {
        random_list = {
            90 = { #PARTIAL SUCCESS
                country_event = { id = techGeneric.2 }
            }
            10 = {
                country_event = { id = studyTechBeta.2 } 
            }
            20 = { #MEDIUM SUCCESS - GET TECH OPTION
                country_event = { id = studyTechBeta.5 }
            }
        }
    }
}

#### SUCCESS ####
country_event = {
    id = studyTechBeta.2
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        save_event_target_as = playerAgency
        random_list = {
            25 = {
                #go get soctech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                set_country_flag = agency2Tech
                country_event = {
                    id = quibble_spy_tech_soc.1
                }
            }
            25 = {
                #go get phystech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                set_country_flag = agency2Tech
                country_event = {
                    id = quibble_spy_tech_phys.1
                }
            }
            25 = {
                #go get engtech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                set_country_flag = agency2Tech
                country_event = {
                    id = quibble_spy_tech_eng.1
                }
            }
        }
    }
    
} 


country_event = { 
    id = studyTechBeta.3 #SUCCESS MESSAGE 
    is_triggered_only = yes
    title = "studyTechSuccess2.title"  
	desc = "studyTechSuccess2.desc"
	show_sound = event_conversation
    picture = GFX_evt_engineering_research

    option = { #REDO
        name = studyTechSuccess2.a
        custom_tooltip = pointsRequiredBeta.tooltip
        allow = {
            hidden_trigger = {
				has_resource = { type = sr_beta_points amount >= @operationCostCheck } 
			}
        }
        hidden_effect = {
            removeGatherProgress_Beta_F = yes
            country_event = {
                id = progressTrackerB.1
            }
        }
    }

    option = { #RETURN TO INTEL GATHERING
        name = studyTechSuccess2.b
        hidden_effect = {
            remove_country_flag = studyTech2
            set_country_flag = gatherIntelBeta
            country_event = {
                id = progressTrackerB.1
            }
        }
    }
}

country_event = { 
    id = studyTechBeta.4 #SUCCESS MESSAGE NO TECH AVAILABLE
    is_triggered_only = yes
    title = "studyTechSuccess2.4.title"
    desc = "studyTechSuccess2.4.desc"
    
	show_sound = event_conversation
    picture = GFX_evt_engineering_research
    immediate = {
        country_event = {
            id = techGeneric.2
        }
    }

    option = { #OK
        name = studyTechSuccess2.4.a
        
    }
}

### MEDIUM SUCCESS - GET OPTION ##
country_event = {   
    id = studyTechBeta.5
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        random_list = {
            30 = { #eng tech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                getTechEngOption = yes
                country_event ={ id = studyTechBeta.6 }
            }
            30 = { #phys tech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                getTechPhysOption = yes
                country_event ={ id = studyTechBeta.7 }
            }
            30 = { #soc tech
                event_target:betaNetworkTarget_temp = {
                    save_event_target_as = sciGetTechTemp
                }
                getTechSocOption = yes
                country_event ={ id = studyTechBeta.8 }
            }
        }
    }
}
### MEDIUM SUCCESS - ENG OPTION ##
country_event = {   
    id = studyTechBeta.6
    is_triggered_only = yes
    title = studyTechBeta.6.name
    desc = studyTechBeta.6.desc
    show_sound = event_conversation
    picture = GFX_evt_engineering_research

    option = {
        name = studyTech.6.a
    }
}
### MEDIUM SUCCESS - PHYS OPTION ##
country_event = {   
    id = studyTechBeta.7
    is_triggered_only = yes
    title = studyTechBeta.7.name
    desc = studyTechBeta.7.desc
    show_sound = event_conversation
    picture = GFX_evt_engineering_research

    option = {
        name = studyTech.6.a
    }
}
### MEDIUM SUCCESS - SOC OPTION ##
country_event = {   
    id = studyTechBeta.8
    is_triggered_only = yes
    title = studyTechBeta.8.name
    desc = studyTechBeta.8.desc
    show_sound = event_conversation
    picture = GFX_evt_engineering_research

    option = {
        name = studyTech.6.a
    }
}

