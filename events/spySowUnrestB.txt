#ONLY TAGRTES ONE PLANET

namespace = spySowUnrestB

country_event = { #CHOOSE TARGET
	id = spySowUnrestB.1
	title = spySowUnrestB.title
	desc = spySowUnrestB.desc
	is_triggered_only = yes

   custom_gui = quibble_spy_window
	diplomatic = yes
	 
	immediate = {
		event_target:betaNetworkTarget_temp = {
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_1_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_1_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_2_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_2_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_3_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_3_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_4_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_4_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_5_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_5_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_6_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_6_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_7_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_7_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_8_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_8_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_9_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_9_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_10_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_10_2
				}
			}

			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_11_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_11_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_12_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_12_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_13_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_13_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_14_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_14_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_15_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_15_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_16_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_16_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_17_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_17_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_18_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_18_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_19_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_19_2
				}
			}
			random_system_within_border = {
				limit = {
					any_system_planet = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
				}
				save_event_target_as = target_system_20_2
				random_system_planet = {
					limit = {
						sowUnrestPlanetFilterB = yes
						is_colony = yes
					}
					save_event_target_as = target_planet_20_2
				}
			}
		}	
	}
	option = {
		name = spySowUnrestB.1.1
		trigger = {
			exists = event_target:target_planet_1_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_1_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.2
		trigger = {
			exists = event_target:target_planet_2_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_2_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.3
		trigger = {
			exists = event_target:target_planet_3_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_3_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.4
		trigger = {
			exists = event_target:target_planet_4_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_4_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.5
		trigger = {
			exists = event_target:target_planet_5_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_5_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.6
		trigger = {
			exists = event_target:target_planet_6_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_6_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.7
		trigger = {
			exists = event_target:target_planet_7_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_7_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.8
		trigger = {
			exists = event_target:target_planet_8_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_8_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.9
		trigger = {
			exists = event_target:target_planet_9_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_9_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.10
		trigger = {
			exists = event_target:target_planet_10_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_10_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
 
	option = {
		name = spySowUnrestB.1.11
		trigger = {
			exists = event_target:target_planet_11_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_11_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.12
		trigger = {
			exists = event_target:target_planet_12_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_12_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.13
		trigger = {
			exists = event_target:target_planet_13_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_13_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.14
		trigger = {
			exists = event_target:target_planet_14_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_14_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.15
		trigger = {
			exists = event_target:target_planet_15_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_15_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.16
		trigger = {
			exists = event_target:target_planet_16_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_16_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.17
		trigger = {
			exists = event_target:target_planet_17_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_17_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.18
		trigger = {
			exists = event_target:target_planet_18_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_18_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.19
		trigger = {
			exists = event_target:target_planet_19_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_19_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {
		name = spySowUnrestB.1.20
		trigger = {
			exists = event_target:target_planet_20_2
		}
		custom_gui = quibble_spy_option
		hidden_effect = {
			event_target:target_planet_20_2 = {
				save_event_target_as = finalPlanetTarget_2
			}
			country_event = { id = progressTrackerB.1  }
			country_event = { id = agencyGlobal.2 }
		}
	}
	option = {  #CANCEL REDEPLOY
		name = agencyNeighborslist.z
		hidden_effect = {
			remove_country_flag = sowUnrest2
			set_country_flag = gatherIntelBeta
			country_event = {
				id = progressTrackerB.1
			}
			country_event = {
				id = agencyGlobal.2
			}
		}
	}
}




country_event = { #ROLL FOR SUCCESS LEVEL
	id = spySowUnrestB.10
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			50 = {
				country_event = { id = spySowUnrestB.2 }
			}
			50 = {
				country_event = { id = spySowUnrestB.3 }
			}
		}
	}
}
	


country_event = { #SUCCESS 
	id = spySowUnrestB.2
	title = spySowUnrest2B.title
	desc = spySowUnrest2B.desc
	is_triggered_only = yes
	picture = GFX_evt_civil_action
	show_sound = event_planetary_riot

	immediate = {
		event_target:finalPlanetTarget_2 = {
			add_modifier = {
				modifier = sowUnrestHigh_mod
				days = @sowUnrestModLength
			}
		}
	}

	option = { #REDO
		name = spySowUnrestB.2.a
		custom_tooltip = pointsRequiredBeta.tooltip
        	allow = {
            hidden_trigger = {
					has_resource = { type = sr_beta_points amount >= @operationCostCheck } 
			}
		}
		
		hidden_effect = {
			removeGatherProgress_Beta_F = yes
			country_event = {
				id = progressTrackerB.1
			}
		}
	}

	option = { #RETURN TO INTEL GATHERING
		name = spySowUnrestB.2.b
		hidden_effect = {
			remove_country_flag = sowUnrest2
			set_country_flag = gatherIntelBeta
			country_event = {
				id = progressTrackerB.1 
			}
	   }
	}
}


country_event = { #PARTIAL SUCCESS 
	id = spySowUnrestB.3
	title = spySowUnrest2B.title
	desc = spySowUnrest2B.desc
	is_triggered_only = yes
	picture = GFX_evt_civil_action
	show_sound = event_planetary_riot

	immediate = {
		event_target:finalPlanetTarget_2 = {
			add_modifier = {
				modifier = sowUnrest_mod
				days = @sowUnrestModLength
			}
		}
	}

	option = { #REDO
		name = spySowUnrestB.2.a
		custom_tooltip = pointsRequiredBeta.tooltip
        	allow = {
            hidden_trigger = {
					has_resource = { type = sr_beta_points amount >= @operationCostCheck } 
				}
			}
		
		hidden_effect = {
			removeGatherProgress_Beta_F = yes
			country_event = {
				id = progressTrackerB.1
			}
		}
	}

	option = { #RETURN TO INTEL GATHERING
		name = spySowUnrestB.2.b
		hidden_effect = {
			remove_country_flag = sowUnrest2
			set_country_flag = gatherIntelBeta
			country_event = {
				id = progressTrackerB.1 
			}
	   }
	}
}

